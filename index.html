<!doctype html>
<html lang="en">
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <!-- Load Telegram Web App JavaScript library -->
        <script src="https://telegram.org/js/telegram-web-app.js"></script>
        <style>
            body {
                background-color: #008872;
            }
        
            @media (max-width: 600px) {
                body {
                    background-color: #004d40; 
                }
            }
        </style>

        <title>Your page title</title>
    </head>
    <body>
        <!-- Image -->
        <div style="text-align: center;">
            <img src="logo2.png" alt="Your image">
        </div>

        <!-- Loading text -->
        <div style="text-align: center;">
            <p>Loading...</p>
        </div>

        <!-- Progress bar -->
        <div style="width: 50%; margin: auto;">
            <div style="background-color: #ddd; height: 20px; width: 100%;">
                <div style="background-color: #4CAF50; height: 100%; width: 25%;"></div>
            </div>
        </div>

        <!-- Telegram Mini Apps JavaScript -->
        <script>
            if (window.Telegram && window.Telegram.WebApp) {
                var initData = window.Telegram.WebApp.initData;
                // 将 initData 发送到服务器进行验证
                fetch('/bot/verify_mini_apps?initData=' + encodeURIComponent(initData), {
                    method: 'GET'
                }).then(response => {
                    if (response.redirected) {
                        window.location.href = response.url;
                    }else{
                        alert('Validation failed');
                    }
                }).catch(error => {
                    console.error('Error:', error);
                });
            } else {
                console.error('Telegram WebApp API is not available');
            }
        </script>
    </body>
</html>
